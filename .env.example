# API Proxy 开发环境配置

# 服务配置
SERVER_HOST=127.0.0.1
SERVER_PORT=8080
WORKER_THREADS=4

# 数据库配置
DATABASE_URL=postgresql://postgres:dev123@localhost:5432/api_proxy
DATABASE_MAX_CONNECTIONS=10
DATABASE_MIN_CONNECTIONS=2
DATABASE_ACQUIRE_TIMEOUT=30
DATABASE_IDLE_TIMEOUT=600

# Redis 配置 (可选，用于分布式缓存)
REDIS_URL=redis://localhost:6379
REDIS_MAX_CONNECTIONS=10
REDIS_CONNECTION_TIMEOUT=5

# 日志配置
RUST_LOG=info,api_proxy=debug,sqlx=warn
LOG_FORMAT=json
LOG_LEVEL=debug

# 监控配置
METRICS_ENABLED=true
METRICS_PORT=9090
TRACING_ENABLED=true
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# 安全配置
API_KEY_CACHE_TTL=300
RATE_LIMIT_WINDOW=60
DEFAULT_RATE_LIMIT=1000
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# 上游服务配置
UPSTREAM_TIMEOUT=30
UPSTREAM_CONNECT_TIMEOUT=5
UPSTREAM_MAX_RETRIES=3
UPSTREAM_RETRY_DELAY=1

# 健康检查配置
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_UNHEALTHY_THRESHOLD=3
HEALTH_CHECK_HEALTHY_THRESHOLD=2

# 缓存配置
CACHE_TTL=300
CACHE_MAX_SIZE=10000
CACHE_CLEANUP_INTERVAL=60

# 开发模式配置
DEV_MODE=true
HOT_RELOAD=true
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000